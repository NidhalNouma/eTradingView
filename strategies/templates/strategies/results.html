{% extends 'page.html' %}
{% load static %}

{% block head_title %}
<title>IsAlgo | Join Our Profitable Community: Elevate Your Trading Game</title>
{% endblock head_title %}

{% block head_description %}
<meta name="description" content="Become part of a community where trading success is the norm. Discover strategies results, insights, and support to thrive in any market. Your journey towards profitability starts here.">
{% endblock head_description %}

{% block page %}

{% if has_subscription or results|length < 6 %}
<h1 class="mt-8 text-left text-3xl sm:text-6xl text-title font-extrabold">Results</h1>
{% else %}
<h1 class="mt-8 text-center text-3xl sm:text-6xl text-title font-extrabold">Subscribe today and get access to</br> <span class="bg-clip-text bg-gradient-to-tl to-primary from-secondary text-transparent">all of these results<span></h1>
{% endif %}

<main class="mt-8 mb-16">
    
    {% if results|length > 0 %}
        
    {% if pairs|length > 7 %}
    <section class="flex items-center mb-6 py-4 px-1 sticky top-14 sm:top-16 bg-background cursor-pointer overflow-y-auto scrollbar-hide">
        {% if selected_pair %}
        <a class=" mr-2 " href="{% url 'results' %}">
            <span class="text-background bg-text hover:bg-text px-2 py-0.5 rounded-full text-sm font-medium truncate  whitespace-nowrap flex items-center">
                {{ selected_pair }}

                <svg class="h-4 w-4 ml-1.5" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"></path>
                </svg>
            </span>
        </a>
        {% endif %}
        {% for pair in pairs %}
        {% if pair != selected_pair %}
        <a class=" mr-2 " href="{% url 'results' %}?pair={{pair}}">
            <span class="text-background bg-text/60 hover:bg-text px-2 py-0.5 rounded-full text-sm font-medium truncate  whitespace-nowrap">
                {{ pair }}
            </span>
        </a>
        {% endif %}
        {% endfor %}
    </section>
    {% endif %}

    <section class=" grid md:grid-cols-4 sm:grid-cols-3 grid-cols-2 gap-4">
        {% for result in results %}
            <div class="w-full mb-3 p-2">
                {% include "include/result_result_page.html" with result=result %}
            </div>
        {% endfor %}
    </section>

    {% else %}

    <p class="text-text text-sm">No results availble yet.</p>

    {% endif %}

</main>


{% endblock page %}