{% extends 'page.html' %}
{% load static %}

{% block head_title %}
<title>IsAlgo | Master the Market: Best High-Level Trading Strategies Revealed</title>
{% endblock head_title %}

{% block head_description %}
<meta name="description" content="Elevate your trading with our expert guide on high-level trading strategies. Discover versatile, backtestable, and automatable approaches that promise success across any market and timeframe.">
{% endblock head_description %}

{% block page %}

    {% if has_subscription or strategies|length < 6 %}
    <h1 class="mt-8 text-left text-3xl sm:text-6xl text-title font-extrabold">Strategies</h1>
    {% else %}
    <h1 class="mt-8 text-center text-3xl sm:text-6xl text-title font-extrabold">Subscribe today and get access to</br> <span class="bg-clip-text bg-gradient-to-tl to-primary from-secondary text-transparent">all of our strategies<span></h1>
    {% endif %}

    <main class="mt-8 mb-16 grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-8">

        {% for strategy in strategies %}

        <div class="flex flex-col items-center border-[1px] border-title/20 rounded-lg p-2.5">

            <div class="w-full mb-2.5">
            <a href="{% url 'strategy' slug=strategy.slug %}">
                <h3 class="text-title text-xl font-bold line-clamp-2 flex items-center">
                    {{ strategy.name }}
                </h3>
            </a>
            </div>

            <div class="w-full mb-2">
                <a href="{% url 'strategy' slug=strategy.slug %}">
                    {% if strategy.image_url %}
                        <img src="{{ strategy.image_url }}" alt="Strategy Image" class="w-full aspect-video mx-auto rounded-lg  border-[1px] border-title/20">
                    {% else %}
                        <img src="{% static 'images/chart_nobg_l.png' %}" alt="Default Image" class="w-full max-h-64 aspect-video mx-auto rounded-lg">
                    {% endif %}
                 </a>  
            </div>

            <div class="w-full mt-2">
                <p class="text-text line-clamp-4 text-sm">{{ strategy.description }}</p>
                <div class="flex items-center justify-between mt-2">
                    <div class="text-text text-xs flex items-center">
                        <a href="{% url 'strategy' slug=strategy.slug %}" class="text-text flex items-center px-2.5 py-0.5 rounded-full border-[0.8px] border-text/40 mr-2.5">
                            <svg
                                class="w-3.5 aspect-square mr-1"
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 512 512"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                d="M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z"
                                ></path>
                            </svg>
                            {{ strategy.strategyresults_set.all|length }}
                        </a>
                        <a href="{% url 'strategy' slug=strategy.slug %}" class="text-text flex items-center px-2.5 py-0.5 rounded-full border-[0.8px] border-text/40">
                            <svg
                                class="w-3.5 aspect-square mr-1"
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"></path>
                                <path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"></path>
                            </svg>
                            {{ strategy.strategycomments_set.all|length }}
                        </a>
                    </div>

                    <a href="{% url 'strategy' slug=strategy.slug %}" class="text-xs text-secondary px-2 rounded-full">Read more &rarr;</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-text text-sm">No strategy availble yet.</p>
        {% endfor %}
        {% if strategies|length < 40 %}
        <div class="h-full w-full flex items-center justify-center">
            <h2 class=" font-extrabold bg-clip-text bg-gradient-to-tl to-primary from-secondary text-transparent text-6xl uppercase"><span class="text-accent">More </span></br><span class="text-secondary">coming </span></br><span class="">soon ...</span></h2>
        </div>
        {% endif %}

    </main>
{% endblock page %}