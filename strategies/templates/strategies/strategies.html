{% extends 'page.html' %}
{% load static %}

{% block page %}

    {% if subscription %}
    <h1 class="mt-8 text-left text-6xl text-title font-extrabold">Strategies</h1>
    {% else %}
    <h1 class="mt-8 text-center text-6xl text-title font-extrabold">Subscribe today and get access to</br> <span class="bg-clip-text bg-gradient-to-tl to-primary from-secondary text-transparent">all of our strategies<span></h1>
    {% endif %}

    <main class="mt-8 mb-16 grid md:grid-cols-4 sm:grid-cols-2 grid-cols-1 gap-4">

        {% for strategy in strategies %}

        <div class="flex flex-col items-center">

            <div class="w-full">
                {% with first_image=strategy.images.first %}
                    {% if first_image %}
                    <a href="{% url 'strategy' id=strategy.id %}">
                        <img
                        class="max-w-full max-h-72 mx-auto"
                        src="{% static 'images/chart_nobg.png' %}"
                        />
                    </a>  
                    {% else %}
                        <p>No images available.</p>
                    {% endif %}
                {% endwith %}
            </div>

            <div class="w-full">
                <a href="{% url 'strategy' id=strategy.id %}">
                    <h3 class="text-title text-xl font-bold line-clamp-2">{{ strategy.name }}</h3>
                </a>
                <p class="text-text line-clamp-3 text-sm">{{ strategy.description }}</p>
                <a href="{% url 'strategy' id=strategy.id %}" class="text-sm text-secondary underline">Read more</a>
            </div>
        </div>

        {% endfor %}

    </main>

{% endblock page %}