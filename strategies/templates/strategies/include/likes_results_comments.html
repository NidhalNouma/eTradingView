<form hx-post="{% url 'strategy_like' strategy.id %}" hx-target="#btns-list">
  {% csrf_token %}
  {% if user.is_authenticated and has_subscription %}
  <button
    data-tooltip-target="tooltip-like"
    data-tooltip-placement="top"
    class="flex items-center px-2"
  >
  {% else %}
  <a href="{% url 'login'%}" class="flex items-center px-2">
    {% endif %}
    <svg
      class="w-3.5 h-3.5 mr-1 {% if user in strategy.likes.all %}fill-background{% else %}fill-transparent{% endif %}"
      viewBox="0 0 16 17.5"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        class="stroke-background"
        stroke-width="1.5"
        d="M11.8 1c-1.682 0-3.129 1.368-3.799 2.797-0.671-1.429-2.118-2.797-3.8-2.797-2.318 0-4.2 1.882-4.2 4.2 0 4.716 4.758 5.953 8 10.616 3.065-4.634 8-6.050 8-10.616 0-2.319-1.882-4.2-4.2-4.2z"
      ></path>
    </svg>
    {{ strategy.likes.count }}
    {% if user.is_authenticated and has_subscription %}
    </button>
    {% else %}
      </a>
    {% endif %}
</form>
<div
  id="tooltip-like"
  role="tooltip"
  class="transition-opacity duration-300 font-sans text-xs absolute z-10 invisible inline-block px-3 py-2 font-medium text-background bg-text rounded-lg shadow-sm opacity-0 tooltip"
>
  Likes
  <div class="tooltip-arrow" data-popper-arrow></div>
</div>
<button
  data-tooltip-target="tooltip-results"
  data-tooltip-placement="top"
  class="flex items-center px-2"
  type="button"
  onclick="showResults()"
>
  <svg
    class="w-3.5 h-3.5 mr-1"
    stroke="currentColor"
    fill="currentColor"
    stroke-width="0"
    viewBox="0 0 512 512"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z"
    ></path>
  </svg>
  {{ strategy.strategyresults_set.all|length }}
</button>
<div
  id="tooltip-results"
  role="tooltip"
  class="transition-opacity duration-300 font-sans text-xs absolute z-10 invisible inline-block px-3 py-2 font-medium text-background bg-text rounded-lg shadow-sm opacity-0 tooltip"
>
  Results
  <div class="tooltip-arrow" data-popper-arrow></div>
</div>
<button
  data-tooltip-target="tooltip-comments"
  data-tooltip-placement="top"
  class="flex items-center px-2"
  type="button"
  onclick="showComments()"
>
  <svg
    class="w-3.5 h-3.5 mr-1"
    stroke="currentColor"
    fill="currentColor"
    stroke-width="0"
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"
    ></path>
    <path
      d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"
    ></path>
  </svg>
  {{ strategy.strategycomments_set.all|length }}
</button>
<div
  id="tooltip-comments"
  role="tooltip"
  class="transition-opacity duration-300 font-sans text-xs absolute z-10 invisible inline-block px-3 py-2 font-medium text-background bg-text rounded-lg shadow-sm opacity-0 tooltip"
>
  Comments
  <div class="tooltip-arrow" data-popper-arrow></div>
</div>
<button
  id="backToTopBtn"
  data-tooltip-target="tooltip-top"
  data-tooltip-placement="top"
  class="hidden items-center px-2"
  type="button"
>
  <svg
    class="w-3.5 h-3.5 mr-1"
    stroke="currentColor"
    fill="currentColor"
    stroke-width="0"
    viewBox="0 0 16 16"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"
    ></path>
  </svg>
</button>
<div
  id="tooltip-top"
  role="tooltip"
  class="transition-opacity duration-300 font-sans text-xs absolute z-10 invisible inline-block px-3 py-2 font-medium text-background bg-text rounded-lg shadow-sm opacity-0 tooltip"
>
  Back to top
  <div class="tooltip-arrow" data-popper-arrow></div>
</div>
