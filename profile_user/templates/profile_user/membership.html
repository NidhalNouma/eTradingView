{% extends 'page.html' %}

{% block head %}
<script src="https://js.stripe.com/v3/"></script>
{% endblock head %}

{% block page %}

    {% if subscription %}
    <h1 class="mt-8 text-left text-6xl text-title font-extrabold">Membership</h1>
    <div class=" mt-4">
        <p class="text-left text-title text-lg font-semibold">You're subscribing to our <span class="text-title font-extrabold">{{ subscription_plan }}</span> plan.</p>
        {% if subscription_status == 'canceled' %}
        <p class="mt-2 text-left text-title text-base">Your subscription was canceled, end on <span class="text-title">{{ subscription_period_end|date:'M d Y' }}</span></p>
        {% else %}
        <p class="mt-2 text-left text-title text-base">Your subscription renew on <span class="text-title">{{ subscription_period_end|date:'M d Y' }}</span></p>
        {% endif %}
    </div>
    {%else%}
    <h1 class="mt-8 text-center text-6xl text-title font-extrabold">Choose your plan and unlock access to</br> <span class="bg-clip-text bg-gradient-to-tl to-primary from-secondary text-transparent">all of our strategies<span></h1>
    {%endif%}

    <main class="mt-8 mb-16">

        <div class="mt-14 w-full flex items-center justify-center gap-8">
            {% include "include/price_item.html" with title="MONTHLY" price="99" %}
            {% include "include/price_item.html" with title="QUARTERLY" price="345" %}
            {% include "include/price_item.html" with title="YEARLY" price="898" %}
        </div>

        
        
        {% comment %} {% if user.is_authenticated %}
            <form class="text-text text-left max-w-md mt-12 p-4 rounded-xl mx-auto">

                <h3 class="text-text font-bold py-4 rounded-xl">Enter your payments details</h3>
                <div id="card-element" class="mt-6 px-8 py-4 bg-text-light rounded-xl" >
                    <!-- the card element will be mounted here -->
                </div>
            
                <div class="w-full mt-8 flex">
                    <button class="bg-secondary mx-auto mt-3 dark:text-text text-text-light bg-primary-light dark:bg-primary-dark text-xl font-semibold px-12 py-3 rounded-xl">Subscribe</button>
                </div>
            </form> 
        {% endif %} {% endcomment %}

        {% comment %} {% if user.is_authenticated %}
            <div class="max-w-md mx-auto mt-16 border-2 border-text rounded-xl p-8">
                {% include "include/pay_form.html" %}
            </div> 
        {% endif %} {% endcomment %}

    </main> 

{% endblock page %}